!function(){var t={295:function(t){function i(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.actions=[],this.actions.push({type:"chair",radius:150,x:730,y:560},{type:"door",radius:250,x:390,y:285},{type:"flashlight",radius:90,x:200,y:580})}var s,e;return s=t,(e=[{key:"getPosition",value:function(t){for(var i="floor",s=0;s<this.actions.length;s++){var e=this.actions[s],a=t.x-e.x,n=t.y-e.y;Math.sqrt(a*a+n*n)<e.radius&&(i=e.type)}return i}}])&&i(s.prototype,e),t}();t.exports=s},451:function(t){function i(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.boSitting=new Image,this.boSitting.src="./src/assets/bo-sitting.png",this.boSittingP1=new Image,this.boSittingP1.src="./src/assets/piano/bo-piano-1.png",this.boSittingP2=new Image,this.boSittingP2.src="./src/assets/piano/bo-piano-2.png",this.boSittingP3=new Image,this.boSittingP3.src="./src/assets/piano/bo-piano-3.png",this.boSittingP4=new Image,this.boSittingP4.src="./src/assets/piano/bo-piano-4.png",this.boSittingMusic=new Image,this.boSitting.src="./src/assets/bo-sitting.png",this.boSittingCrying1=new Image,this.boSittingCrying1.src="./src/assets/crying/bo-sitting-crying1.png",this.boSittingCrying2=new Image,this.boSittingCrying2.src="./src/assets/crying/bo-sitting-crying2.png",this.boStanding=new Image,this.boStanding.src="./src/assets/standing/bo-standing-forewards.png",this.boStandingCrying1=new Image,this.boStandingCrying1.src="./src/assets/crying/bo-standing-crying1.png",this.boStandingCrying2=new Image,this.boStandingCrying2.src="./src/assets/crying/bo-standing-crying2.png",this.boStandingDoor1=new Image,this.boStandingDoor1.src="./src/assets/door/bo-handle-up.png",this.boStandingDoor2=new Image,this.boStandingDoor2.src="./src/assets/door/bo-handle-down.png",this.boStandingLeft=new Image,this.boStandingLeft.src="./src/assets/standing/bo-standing-left.png",this.boStandingRight=new Image,this.boStandingRight.src="./src/assets/standing/bo-standing-right.png",this.boShining=new Image,this.boShining.src="./src/assets/shining/bo-flashlight-front.png",this.boShiningLeft=new Image,this.boShiningLeft.src="./src/assets/shining/bo-flashlight-left.png",this.boShiningRight=new Image,this.boShiningRight.src="./src/assets/shining/bo-flashlight-right.png",this.flashlight=new Image,this.flashlight.src="./src/assets/flashlight.png",this.inputStatus="STANDING",this.status="STANDING",this.x=665,this.y=595,this.speed=4,this.up=!1,this.down=!1,this.left=!1,this.right=!1,this.lastMoved="front",this.leftIsh=!1,this.cryFrame=0,this.doorFrame=0,this.musicFrame=0,this.accomplishments={flashlight:!1,piano:!1,door:!1,cry:!1},this.over=!1,this.end=document.querySelector("#end"),this.end.style.display="none"}var s,e;return s=t,(e=[{key:"updatePlayer",value:function(t,i){"SITTING"!=this.status&&0==this.cryFrame&&(this.up&&(this.lastMoved="back",this.y-=this.speed,t.collision(this)&&(this.y+=this.speed)),this.left&&(this.lastMoved="left",this.leftIsh=!0,this.x-=this.speed,t.collision(this)&&(this.x+=this.speed)),this.right&&(this.leftIsh=!1,this.lastMoved="right",this.x+=this.speed,t.collision(this)&&(this.x-=this.speed)),this.down&&(this.lastMoved="front",this.y+=this.speed,t.collision(this)&&(this.y-=this.speed))),console.log(this.x+", "+this.y);var s=i.getPosition(this);this.cryFrame>0&&("SHINING"==this.status&&(this.status="STANDING"),this.cryFrame+=.5,this.cryFrame>99&&(this.cryFrame=0)),1==this.doorFrame&&"door"!=s&&(this.doorFrame=0),this.doorFrame>0&&(this.status="STANDING",this.x=460,this.y=510,this.doorFrame++,this.doorFrame>99&&(this.doorFrame=0)),1==this.musicFrame&&"SITTING"!=this.status&&(this.musicFrame=0),this.musicFrame>0&&(this.musicFrame+=2,this.musicFrame>500&&(this.musicFrame=0)),"SITTING"!=this.inputStatus||"STANDING"!=this.status&&"SHINING"!=this.status||"chair"!=s||(this.status="SITTING",this.x=725,this.y=595),"SHINING"==this.inputStatus&&"flashlight"==s&&(this.status="SHINING"),"STANDING"==this.inputStatus&&"SITTING"==this.status&&(this.status="STANDING",this.x=725,this.y=620),this.accomplishments.piano&&this.accomplishments.door&&this.accomplishments.cry&&this.accomplishments.flashlight&&(this.over=!0),this.inputStatus=""}},{key:"drawPlayer",value:function(t){if(this.over&&(this.end.style.display="block"),"SHINING"!=this.status&&t.drawImage(this.flashlight,180,225),"SITTING"==this.status)if(this.cryFrame>0){var i=Math.floor(this.cryFrame/10);(i%=10)%2==0?t.drawImage(this.boSittingCrying1,this.x-85,this.y-285):t.drawImage(this.boSittingCrying2,this.x-85,this.y-285),this.accomplishments.cry=!0}else if(this.musicFrame>0){var s=Math.floor(this.musicFrame/30);switch(s%=4,console.log(s),this.accomplishments.piano=!0,s){case 0:t.drawImage(this.boSittingP1,this.x-70,this.y-300);break;case 1:t.drawImage(this.boSittingP2,this.x-70,this.y-300);break;case 2:t.drawImage(this.boSittingP3,this.x-70,this.y-300);break;case 3:t.drawImage(this.boSittingP4,this.x-70,this.y-300)}}else t.drawImage(this.boSitting,this.x-110,this.y-300);else if("STANDING"==this.status)if(this.cryFrame>0){var e=Math.floor(this.cryFrame/10);(e%=10)%2==0?t.drawImage(this.boStandingCrying1,this.x-70-this.xScale()/2,this.y-380-this.yScale(),this.boStandingCrying1.width+this.xScale(),this.boStandingCrying1.height+this.yScale()):t.drawImage(this.boStandingCrying2,this.x-70-this.xScale()/2,this.y-380-this.yScale(),this.boStandingCrying2.width+this.xScale(),this.boStandingCrying2.height+this.yScale()),this.accomplishments.cry=!0}else if(this.doorFrame>0){var a=Math.floor(this.doorFrame/10);(a%=10)%2==0?t.drawImage(this.boStandingDoor1,this.x-110,this.y-400):t.drawImage(this.boStandingDoor2,this.x-110,this.y-400),this.accomplishments.door=!0}else"front"==this.lastMoved?t.drawImage(this.boStanding,this.x-110-this.xScale()/2,this.y-420-this.yScale(),this.boStanding.width+this.xScale(),this.boStanding.height+this.yScale()):"left"==this.lastMoved?t.drawImage(this.boStandingLeft,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingLeft.width+this.xScale(),this.boStandingLeft.height+this.yScale()):"right"==this.lastMoved?t.drawImage(this.boStandingRight,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingRight.width+this.xScale(),this.boStandingRight.height+this.yScale()):"back"==this.lastMoved&&(this.leftIsh?t.drawImage(this.boStandingLeft,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingLeft.width+this.xScale(),this.boStandingLeft.height+this.yScale()):t.drawImage(this.boStandingRight,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingRight.width+this.xScale(),this.boStandingRight.height+this.yScale()));else"SHINING"==this.status&&(this.accomplishments.flashlight=!0,this.cryFrame>0?t.drawImage(this.boStandingCrying,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingCrying.width+this.xScale(),this.boStandingCrying.height+this.yScale()):this.doorFrame>0?t.drawImage(this.boStandingDoor,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boStandingDoor.width+this.xScale(),this.boStandingDoor.height+this.yScale()):"front"==this.lastMoved?t.drawImage(this.boShining,this.x-110-this.xScale()/2,this.y-400-this.yScale(),this.boShining.width+this.xScale(),this.boShining.height+this.yScale()):"left"==this.lastMoved?t.drawImage(this.boShiningLeft,this.x-180-this.xScale()/2,this.y-400-this.yScale(),this.boShiningLeft.width+this.xScale(),this.boShiningLeft.height+this.yScale()):"right"==this.lastMoved?t.drawImage(this.boShiningRight,this.x-80-this.xScale()/2,this.y-400-this.yScale(),this.boShiningRight.width+this.xScale(),this.boShiningRight.height+this.yScale()):"back"==this.lastMoved&&(this.leftIsh?t.drawImage(this.boShiningLeft,this.x-180-this.xScale()/2,this.y-400-this.yScale(),this.boShiningLeft.width+this.xScale(),this.boShiningLeft.height+this.yScale()):t.drawImage(this.boShiningRight,this.x-80-this.xScale()/2,this.y-400-this.yScale(),this.boShiningRight.width+this.xScale(),this.boShiningRight.height+this.yScale())))}},{key:"yScale",value:function(){return.5*(this.y-500)}},{key:"xScale",value:function(){return this.yScale()*(1/3)}}])&&i(s.prototype,e),t}();t.exports=s},311:function(t){function i(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ssri=new Image,this.ssri.src="./src/assets/titleScreen/ssri.png",this.inside=new Image,this.inside.src="./src/assets/titleScreen/inside.png",this.blank=new Image,this.blank.src="./src/assets/titleScreen/blank.png"}var s,e;return s=t,(e=[{key:"drawSSRI",value:function(t){t.drawImage(this.ssri,0,0,t.canvas.width,t.canvas.height)}},{key:"drawInside",value:function(t){t.drawImage(this.inside,0,0,t.canvas.width,t.canvas.height)}},{key:"drawBlank",value:function(t){t.drawImage(this.blank,0,0,t.canvas.width,t.canvas.height)}}])&&i(s.prototype,e),t}();t.exports=s},11:function(t,i,s){"use strict";function e(t,i){document.addEventListener("keydown",(function(i){switch(i.keyCode){case 37:t.left=!0;break;case 39:t.right=!0;break;case 38:t.up=!0;break;case 40:t.down=!0;break;case 83:"SITTING"==t.status?(t.inputStatus="STANDING",t.x=665,t.y=595):t.inputStatus="SITTING";break;case 65:t.cryFrame=1;break;case 90:t.musicFrame=1,t.doorFrame=1,t.inputStatus="SHINING"}})),document.addEventListener("keyup",(function(i){switch(i.keyCode){case 37:t.left=!1;break;case 39:t.right=!1;break;case 38:t.up=!1;break;case 40:t.down=!1}})),document.addEventListener("click",(function(s){i.frame>=500&&(i.startGame=!0),t.over&&(i.restart=!0)}))}s.r(i),s.d(i,{setUpKeyHandlers:function(){return e}})}},i={};function s(e){var a=i[e];if(void 0!==a)return a.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.d=function(t,i){for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";function t(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}s(451);var i=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.boundaries=[];var s={type:"lineTop",y:.75*t.canvas.height},e={type:"lineBot",y:.99*t.canvas.height},a={type:"box",x:.58*t.canvas.width,y:.9*t.canvas.height};this.boundaries.push({type:"circle",radius:300,x:200,y:250},{type:"circle",radius:400,x:0,y:900},{type:"circle",radius:500,x:1100,y:1e3},s,e,a)}var s,e;return s=i,(e=[{key:"collision",value:function(t){for(var i=!1,s=0;s<this.boundaries.length;s++){var e=this.boundaries[s];if("circle"==e.type){var a=t.x-e.x,n=t.y-e.y;Math.sqrt(a*a+n*n)<e.radius&&(i=!0)}else"lineTop"==e.type?e.y>t.y&&(i=!0):"lineBot"==e.type?e.y<=t.y&&(i=!0):e.x<=t.x&&e.y>=t.y&&(i=!0)}return i}}])&&t(s.prototype,e),i}();function e(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var a=s(451),n=s(295),h=s(311),r=s(11).setUpKeyHandlers,o=function(){function t(s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=new a,this.surface=new i(s),this.actionZone=new n,this.titleScreen=new h,this.startGame=!1,this.frame=0,this.dir=document.querySelector("#directions"),this.enter=document.querySelector("#enter"),this.day=document.querySelector("#day"),this.dayFrame=0,this.restart=!1,r(this.player,this)}var s,o;return s=t,(o=[{key:"drawGame",value:function(t){this.frame++,this.frame<100?this.titleScreen.drawBlank(t):this.frame<400?this.titleScreen.drawSSRI(t):this.frame<500?this.titleScreen.drawBlank(t):this.frame<5e3&&!this.startGame?(this.titleScreen.drawInside(t),this.frame>700&&(this.enter.style.display="block")):(this.dayFrame>50&&this.dayFrame<400?this.day.style.display="block":(this.day.style.display="none",this.dayFrame>420&&(this.dir.style.display="block")),this.player.over&&(this.dir.style.display="none"),this.dayFrame++,this.enter.style.display="none",this.player.updatePlayer(this.surface,this.actionZone),this.player.drawPlayer(t))}}])&&e(s.prototype,o),t}();document.addEventListener("DOMContentLoaded",(function(t){var i=document.querySelector("#canvas1");i.width=1100,i.height=.6*i.width,function(t){var i=new Image;i.src="./src/assets/back-bo-finalish.png",i.onload=function(){t.drawImage(i,0,0,t.canvas.width,t.canvas.height)}}(i.getContext("2d"));var s=document.querySelector("#canvas2");s.width=1100,s.height=660;var e=s.getContext("2d"),a=new o(e);window.requestAnimationFrame((function t(){e.clearRect(0,0,e.canvas.width,e.canvas.height),a.restart&&(a=new o(e)),a.drawGame(e),window.requestAnimationFrame(t)}))}))}()}();
//# sourceMappingURL=main.js.map